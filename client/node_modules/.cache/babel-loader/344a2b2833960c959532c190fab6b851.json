{"ast":null,"code":"var _jsxFileName = \"/media/msaleem2/data/Usama/Courses/FAL22/SLP/Project/3/Hollamart Ecommerce Project/client/src/Components/Cartlist.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport Cartprod from \"./Cartprod\";\nimport \"./Cartlist.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCartShopping } from \"@fortawesome/free-solid-svg-icons\";\nimport { faSignOut } from \"@fortawesome/free-solid-svg-icons\"; // import Addresscomp from './Addresspopup'\n\nimport Addresspopup from \"./Addresspopup\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst landingPage = () => {\n  window.location.href = \"/\";\n};\n\nconst routeToCartList = () => {\n  window.location.href = \"/cartlist\";\n};\n\nfunction Cartlist() {\n  _s();\n\n  const home = localStorage.getItem(\"home\"); // console.log(typeof(home))\n\n  const street = localStorage.getItem(\"street\");\n  const city = localStorage.getItem(\"city\");\n  const pincode = localStorage.getItem(\"pincode\");\n  const currUser = localStorage.getItem(\"userID\");\n  const currToken = localStorage.getItem(\"token\");\n  const [cartProducts, setCartProducts] = useState([]);\n  const [prodLen, setProdLen] = useState(0);\n  const [show, setShow] = useState(false);\n  const [address, setAddress] = useState({\n    house_name: \"\",\n    street_name: \"\",\n    city_name: \"\",\n    pin_code: \"\"\n  });\n  const [editAddress, setEditAddress] = useState({\n    house_name: home,\n    street_name: street,\n    city_name: city,\n    pin_code: pincode\n  });\n  const [editShow, setEditShow] = useState(false);\n  const config = {\n    headers: {\n      token: currToken\n    }\n  };\n\n  const addAddressHandler = () => {\n    setShow(!show);\n  };\n\n  const addingAddress = () => {\n    axios.post(`http://localhost:8080/addhomeaddress?id=${currUser}`, address, config).then(res => {\n      console.log(\"address added\");\n      setShow(!show);\n      localStorage.setItem(\"home\", address.house_name);\n      localStorage.setItem(\"street\", address.street_name);\n      localStorage.setItem(\"city\", address.city_name);\n      localStorage.setItem(\"pincode\", address.pin_code);\n      window.location.href = \"/cartlist\";\n    });\n  };\n\n  const editingAddress = () => {\n    axios.put(`http://localhost:8080/edithomeaddress?id=${currUser}`, editAddress, config).then(res => {\n      console.log(\"address added\");\n      setEditShow(!editShow);\n      localStorage.setItem(\"home\", editAddress.house_name);\n      localStorage.setItem(\"street\", editAddress.street_name);\n      localStorage.setItem(\"city\", editAddress.city_name);\n      localStorage.setItem(\"pincode\", editAddress.pin_code);\n      window.location.href = \"/cartlist\";\n    });\n  };\n\n  const editAddressHandler = () => {\n    setEditShow(!editShow);\n  };\n\n  const routeToAllProd = () => {\n    window.location.href = \"/productview\";\n  };\n\n  const logoutUser = () => {\n    localStorage.clear();\n    window.location.href = \"/\";\n  };\n\n  const productviewPage = () => {\n    window.location.href = \"/productview\";\n  };\n\n  const checkout = () => {\n    window.location.href = \"/checkout\";\n  };\n\n  useEffect(async () => {\n    await axios.get(`http://localhost:8080/cartitems?id=${currUser}`, config).then(res => {\n      console.log(res);\n      setCartProducts(res.data);\n      setProdLen(res.data.length);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"parentcont\",\n    children: [prodLen ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"head-listcart\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"title\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: landingPage,\n            children: \"Hollamart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: productviewPage,\n            className: \"availableprod\",\n            children: \"Products\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"faCartShoppingIcon\",\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faSignOut,\n            size: \"3x\",\n            onClick: logoutUser,\n            className: \"faSignOut\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: cartProducts.map(cartprod => {\n          return /*#__PURE__*/_jsxDEV(Cartprod, { ...cartprod\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 22\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-three\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: checkout,\n          className: \"forsignin-btn\",\n          children: \"Proceed to Checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"head-listcart\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"title\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: landingPage,\n            children: \"Hollamart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: productviewPage,\n            className: \"availableprod\",\n            children: \"Products\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"faCartShoppingIcon\",\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faSignOut,\n            size: \"3x\",\n            onClick: logoutUser,\n            className: \"faSignOut\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: cartProducts.map(cartprod => {\n          return /*#__PURE__*/_jsxDEV(Cartprod, { ...cartprod\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 20\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-three\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: checkout,\n          className: \"forsignin-btn\",\n          children: \"YOUR BAG IS EMPTY\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" Once you add something to your bag, it will appear here. Ready to get started?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }, this) // <div className=\"emptycart\">\n    //   Oops, your Cart Is Empty......\n    //   <div className=\"add-prod\">\n    //     Want to Add few products from store into your cart?\n    //     <button className=\"clickme-btn\" onClick={routeToAllProd}>\n    //       Click Here\n    //     </button>\n    //   </div>\n    // </div>\n    , /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"foraddress-btn\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Cartlist, \"6h+jD5gYjfhTa9ChUosdMeea4Do=\");\n\n_c = Cartlist;\nexport default Cartlist;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cartlist\");","map":{"version":3,"sources":["/media/msaleem2/data/Usama/Courses/FAL22/SLP/Project/3/Hollamart Ecommerce Project/client/src/Components/Cartlist.js"],"names":["axios","React","useEffect","useState","Cartprod","FontAwesomeIcon","faCartShopping","faSignOut","Addresspopup","landingPage","window","location","href","routeToCartList","Cartlist","home","localStorage","getItem","street","city","pincode","currUser","currToken","cartProducts","setCartProducts","prodLen","setProdLen","show","setShow","address","setAddress","house_name","street_name","city_name","pin_code","editAddress","setEditAddress","editShow","setEditShow","config","headers","token","addAddressHandler","addingAddress","post","then","res","console","log","setItem","editingAddress","put","editAddressHandler","routeToAllProd","logoutUser","clear","productviewPage","checkout","get","data","length","map","cartprod"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Cartprod from \"./Cartprod\";\r\nimport \"./Cartlist.css\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCartShopping } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { faSignOut } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\n// import Addresscomp from './Addresspopup'\r\nimport Addresspopup from \"./Addresspopup\";\r\nconst landingPage = () => {\r\n  window.location.href = \"/\";\r\n};\r\nconst routeToCartList = () => {\r\n  window.location.href = \"/cartlist\";\r\n};\r\nfunction Cartlist() {\r\n  const home = localStorage.getItem(\"home\");\r\n  // console.log(typeof(home))\r\n\r\n  const street = localStorage.getItem(\"street\");\r\n  const city = localStorage.getItem(\"city\");\r\n  const pincode = localStorage.getItem(\"pincode\");\r\n  const currUser = localStorage.getItem(\"userID\");\r\n  const currToken = localStorage.getItem(\"token\");\r\n  const [cartProducts, setCartProducts] = useState([]);\r\n  const [prodLen, setProdLen] = useState(0);\r\n  const [show, setShow] = useState(false);\r\n  const [address, setAddress] = useState({\r\n    house_name: \"\",\r\n    street_name: \"\",\r\n    city_name: \"\",\r\n    pin_code: \"\",\r\n  });\r\n  const [editAddress, setEditAddress] = useState({\r\n    house_name: home,\r\n    street_name: street,\r\n    city_name: city,\r\n    pin_code: pincode,\r\n  });\r\n  const [editShow, setEditShow] = useState(false);\r\n\r\n  const config = {\r\n    headers: {\r\n      token: currToken,\r\n    },\r\n  };\r\n\r\n  const addAddressHandler = () => {\r\n    setShow(!show);\r\n  };\r\n  const addingAddress = () => {\r\n    axios\r\n      .post(\r\n        `http://localhost:8080/addhomeaddress?id=${currUser}`,\r\n        address,\r\n        config\r\n      )\r\n      .then((res) => {\r\n        console.log(\"address added\");\r\n        setShow(!show);\r\n        localStorage.setItem(\"home\", address.house_name);\r\n        localStorage.setItem(\"street\", address.street_name);\r\n        localStorage.setItem(\"city\", address.city_name);\r\n        localStorage.setItem(\"pincode\", address.pin_code);\r\n        window.location.href = \"/cartlist\";\r\n      });\r\n  };\r\n\r\n  const editingAddress = () => {\r\n    axios\r\n      .put(\r\n        `http://localhost:8080/edithomeaddress?id=${currUser}`,\r\n        editAddress,\r\n        config\r\n      )\r\n      .then((res) => {\r\n        console.log(\"address added\");\r\n        setEditShow(!editShow);\r\n        localStorage.setItem(\"home\", editAddress.house_name);\r\n        localStorage.setItem(\"street\", editAddress.street_name);\r\n        localStorage.setItem(\"city\", editAddress.city_name);\r\n        localStorage.setItem(\"pincode\", editAddress.pin_code);\r\n        window.location.href = \"/cartlist\";\r\n      });\r\n  };\r\n  const editAddressHandler = () => {\r\n    setEditShow(!editShow);\r\n  };\r\n  const routeToAllProd = () => {\r\n    window.location.href = \"/productview\";\r\n  };\r\n  const logoutUser = () => {\r\n    localStorage.clear();\r\n    window.location.href = \"/\";\r\n  };\r\n  const productviewPage = () => {\r\n    window.location.href = \"/productview\";\r\n  };\r\n\r\n  const checkout = () => {\r\n    window.location.href = \"/checkout\";\r\n  };\r\n\r\n  useEffect(async () => {\r\n    await axios\r\n      .get(`http://localhost:8080/cartitems?id=${currUser}`, config)\r\n      .then((res) => {\r\n        console.log(res);\r\n        setCartProducts(res.data);\r\n        setProdLen(res.data.length);\r\n      });\r\n  }, []);\r\n  return (\r\n    <div className=\"parentcont\">\r\n      {prodLen ? (\r\n        <div>\r\n          <div className=\"head-listcart\">\r\n            <div className=\"title\">\r\n              <div onClick={landingPage}>Hollamart</div>\r\n              <div onClick={productviewPage} className=\"availableprod\">\r\n                Products\r\n              </div>\r\n            </div>\r\n            <div className=\"faCartShoppingIcon\">\r\n              <FontAwesomeIcon\r\n                icon={faSignOut}\r\n                size=\"3x\"\r\n                onClick={logoutUser}\r\n                className=\"faSignOut\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            {cartProducts.map((cartprod) => {\r\n              return <Cartprod {...cartprod} />;\r\n            })}\r\n          </div>\r\n          <div className=\"login-three\">\r\n            <button onClick={checkout} className=\"forsignin-btn\">\r\n              Proceed to Checkout\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div>\r\n        <div className=\"head-listcart\">\r\n          <div className=\"title\">\r\n            <div onClick={landingPage}>Hollamart</div>\r\n            <div onClick={productviewPage} className=\"availableprod\">\r\n              Products\r\n            </div>\r\n          </div>\r\n          <div className=\"faCartShoppingIcon\">\r\n            <FontAwesomeIcon\r\n              icon={faSignOut}\r\n              size=\"3x\"\r\n              onClick={logoutUser}\r\n              className=\"faSignOut\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          {cartProducts.map((cartprod) => {\r\n            return <Cartprod {...cartprod} />;\r\n          })}\r\n        </div>\r\n        <div className=\"login-three\">\r\n          <button onClick={checkout} className=\"forsignin-btn\">\r\n          YOUR BAG IS EMPTY\r\n\r\n          </button>\r\n          <p> Once you add something to your bag, it will appear here. Ready to get started?\r\n</p>\r\n        </div>\r\n      </div>\r\n        // <div className=\"emptycart\">\r\n        //   Oops, your Cart Is Empty......\r\n        //   <div className=\"add-prod\">\r\n        //     Want to Add few products from store into your cart?\r\n        //     <button className=\"clickme-btn\" onClick={routeToAllProd}>\r\n        //       Click Here\r\n        //     </button>\r\n        //   </div>\r\n        // </div>\r\n      )}\r\n      <div className=\"foraddress-btn\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cartlist;\r\n"]},"metadata":{},"sourceType":"module"}